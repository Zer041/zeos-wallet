<html>
<head>
<link rel="stylesheet" href="ual.css" />
<script type="module">
// source: https://developer.mozilla.org/en-US/docs/WebAssembly/Rust_to_wasm
import init, {create_mint_transaction, decrypt_transaction, create_key, note_commitment, note_nullifier} from "./src/pkg/rustzeos.js";

window.zeos_create_mint_transaction = async function(params_bytes, addr_json, tx_r_json, eos_username)
{
    var res;
    await init().then(() => {
        res = create_mint_transaction(params_bytes, addr_json, tx_r_json, eos_username)
    });
    return res;
}
window.zeos_decrypt_transaction = async function(sk, enc_tx_json)
{
    var res;
    await init().then(() => {
        res = decrypt_transaction(sk, enc_tx_json)
    });
    return res;
}
window.zeos_create_key = async function(seed)
{
    var res;
    await init().then(() => {
        res = create_key(seed)
    });
    return res;
}
window.zeos_note_commitment = async function(note_json, h_sk)
{
    var res;
    await init().then(() => {
        res = note_commitment(note_json, h_sk)
    });
    return res;
}
window.zeos_note_nullifier = async function(note_json, sk)
{
    var res;
    await init().then(() => {
        res = note_nullifier(note_json, sk)
    });
    return res;
}
</script>
</head>
<body>
<h1 class="ual-title">ZEOS Wallet</h1>
<h5 class="ual-subtitle"><strong>- KYLIN TESTNET DAPP -</strong></h5>
<div class="ual-generic-container">
<div id="app"></div>
</div>
</body>
</html>
